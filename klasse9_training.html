<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Training Klasse 9 ‚Äì Bewegung & Grundlagen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg-dark: #020617;
      --text-main: #e5e7eb;
      --text-soft: #cbd5f5;
      --c-accent: #3b82f6;
      --c-good: #22c55e;
      --c-mid:  #eab308;
      --c-bad:  #ef4444;
      --tile-bg: rgba(15,23,42,0.96);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, Helvetica, Arial, sans-serif;
      background: radial-gradient(circle at top, #0f172a, #020617 55%, #000);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .app {
      position: relative;
      width: 100%;
      height: 100vh;
      padding: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .bg-overlay {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at top left, rgba(59,130,246,0.22), transparent 55%),
        radial-gradient(circle at bottom right, rgba(56,189,248,0.20), transparent 55%);
      pointer-events: none;
    }

    .vignette {
      position: absolute;
      inset: 0;
      box-shadow: inset 0 0 160px rgba(0,0,0,0.9);
      pointer-events: none;
    }

    .panel {
      position: relative;
      z-index: 5;
      max-width: 1150px;
      width: 100%;
      margin: 0 auto;
      padding: 2.1rem 2rem 2.4rem;
      border-radius: 26px;
      background: radial-gradient(circle at top, rgba(15,23,42,0.98), rgba(15,23,42,0.9));
      box-shadow:
        0 30px 80px rgba(0,0,0,0.9),
        0 0 0 1px rgba(148,163,184,0.4);
      display: flex;
      flex-direction: column;
      gap: 1.4rem;
      max-height: 100%;
      overflow: auto;
    }

    .topbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:1rem;
      flex-wrap:wrap;
    }

    .brand {
      font-size:0.9rem;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color:var(--text-soft);
    }

    .back-link {
      font-size:0.85rem;
      color:var(--text-soft);
      text-decoration:none;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      padding:0.2rem 0.9rem;
      background:rgba(15,23,42,0.8);
    }

    .back-link:hover {
      border-color:#e5e7eb;
      color:#e5e7eb;
    }

    .tagline {
      font-size:0.8rem;
      color:rgba(148,163,184,0.9);
      text-transform:uppercase;
      letter-spacing:0.18em;
      margin-bottom:0.3rem;
    }

    h1 {
      font-size:clamp(1.8rem, 3vw, 2.2rem);
      margin-bottom:0.2rem;
    }

    .intro-text {
      font-size:0.95rem;
      color:var(--text-soft);
      max-width:780px;
    }

    .layout {
      display:grid;
      grid-template-columns:minmax(0, 1.4fr) minmax(0, 2fr);
      gap:1.2rem;
      align-items:start;
    }

    .tile-list,
    .quiz-card {
      border-radius:20px;
      border:1px solid rgba(148,163,184,0.6);
      background:var(--tile-bg);
      box-shadow:0 16px 40px rgba(0,0,0,0.75);
      padding:0.9rem 1rem 1.1rem;
      font-size:0.92rem;
    }

    .tile-list-header {
      font-weight:600;
      margin-bottom:0.5rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:0.5rem;
    }

    .topic-list {
      display:grid;
      gap:0.35rem;
      margin-top:0.2rem;
    }

    .topic-btn {
      width:100%;
      border-radius:14px;
      border:1px solid rgba(148,163,184,0.6);
      background:rgba(15,23,42,0.92);
      color:var(--text-main);
      padding:0.45rem 0.7rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      cursor:pointer;
      font-size:0.9rem;
    }

    .topic-btn span.label {
      display:flex;
      align-items:center;
      gap:0.4rem;
    }

    .topic-btn span.badge {
      font-size:0.75rem;
      padding:0.1rem 0.45rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.8);
      color:var(--text-soft);
    }

    .topic-btn:hover {
      border-color:var(--c-accent);
      box-shadow:0 0 0 1px rgba(59,130,246,0.7);
    }

    .quiz-header-line {
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:0.5rem;
      margin-bottom:0.4rem;
    }

    .quiz-topic-label {
      font-weight:600;
      font-size:0.95rem;
      display:flex;
      align-items:center;
      gap:0.4rem;
    }

    .pill {
      font-size:0.8rem;
      padding:0.12rem 0.5rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      color:var(--text-soft);
    }

    .progress {
      font-size:0.8rem;
      color:var(--text-soft);
    }

    .question-text {
      margin-top: 0.6rem;
      margin-bottom: 0.6rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: #f8fafc;
      padding-bottom: 0.4rem;
      border-bottom: 1px solid rgba(148,163,184,0.4);
    }

    .answers {
      margin-top:0.6rem;
      display:grid;
      gap:0.4rem;
    }

    .answer-btn {
      width:100%;
      text-align:left;
      border-radius:14px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.96);
      color:var(--text-main);
      padding:0.45rem 0.7rem;
      font-size:0.9rem;
      cursor:pointer;
    }

    .answer-btn:hover {
      border-color:var(--c-accent);
    }

    .answer-btn.correct {
      border-color:var(--c-good);
      background:rgba(34,197,94,0.12);
    }

    .answer-btn.wrong {
      border-color:var(--c-bad);
      background:rgba(239,68,68,0.12);
    }

    .feedback {
      margin-top:0.5rem;
      font-size:0.9rem;
    }

    .feedback.good { color:var(--c-good); }
    .feedback.bad  { color:var(--c-bad); }

    .controls {
      margin-top:0.7rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:0.5rem;
      flex-wrap:wrap;
    }

    .btn {
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.96);
      color:var(--text-main);
      padding:0.35rem 0.9rem;
      font-size:0.88rem;
      cursor:pointer;
    }

    .btn.primary {
      border-color:var(--c-accent);
      box-shadow:0 0 18px rgba(59,130,246,0.6);
    }

    .btn.primary:hover {
      background:rgba(59,130,246,0.16);
    }

    .result-box {
      margin-top:0.4rem;
      border-radius:16px;
      border:1px solid rgba(148,163,184,0.7);
      padding:0.6rem 0.8rem;
      font-size:0.9rem;
    }

    .result-box.good { border-color:var(--c-good); }
    .result-box.mid  { border-color:var(--c-mid); }
    .result-box.bad  { border-color:var(--c-bad); }

    .hint-text {
      font-size:0.8rem;
      color:var(--text-soft);
      margin-top:0.6rem;
    }

    @media (max-width:900px) {
      .panel { padding:1.7rem 1.3rem 2rem; }
      .layout { grid-template-columns:1fr; }
    }

    @media (max-width:720px) {
      .controls { flex-direction:column; align-items:stretch; }
      .btn { width:100%; text-align:center; }
    }
  </style>
</head>

<body>
<div class="app">
  <div class="bg-overlay"></div>
  <div class="vignette"></div>

  <main class="panel">

    <!-- Kopfbereich -->
    <header class="topbar">
      <div class="brand">FGO PERLEBERG ¬∑ PHYSIK DIGITAL</div>
      <a class="back-link" href="klasse9.html">‚Üê Zur√ºck zu Klasse 9</a>
    </header>

    <section>
      <div class="tagline">klasse 9 ¬∑ bewegung & diagramme</div>
      <h1>Training &amp; Quiz</h1>
      <p class="intro-text">
        W√§hle das Thema und beantworte bis zu <strong>15 Fragen</strong>.  
        Du bekommst sofort R√ºckmeldung zu deiner Antwort ‚Äì am Ende siehst du deine Punkte mit Feedback.
      </p>
    </section>

    <section class="layout" aria-label="Training Klasse 9">

      <!-- Themen-Auswahl -->
      <aside class="tile-list">
        <div class="tile-list-header">
          <span><strong>Thema w√§hlen</strong></span>
          <span class="pill">15 Fragen ¬∑ Multiple Choice</span>
        </div>
        <div class="topic-list">
          <button class="topic-btn" data-topic="bewegung_grundlagen">
            <span class="label">üö∂ Bewegung ‚Äì Grundlagen</span>
            <span class="badge">Basis</span>
          </button>
        </div>

        <p class="hint-text">
          Weitere Themen (gleichf√∂rmig, beschleunigt, freier Fall) k√∂nnen wir sp√§ter erg√§nzen.
        </p>
      </aside>

      <!-- Quiz-Bereich -->
      <section class="quiz-card" id="quiz-area">
        <div id="quiz-idle">
          <p>W√§hle links ein Thema, um ein Quiz zu starten.</p>
          <p class="hint-text">
            Antworten anklicken, Feedback bekommen, weiter zur n√§chsten Frage ‚Äì ganz entspannt wie in Klasse 10.
          </p>
        </div>

        <div id="quiz-active" style="display:none;">
          <div class="quiz-header-line">
            <div class="quiz-topic-label">
              <span id="quiz-topic-icon">üö∂</span>
              <span id="quiz-topic-name">Thema</span>
            </div>
            <div class="progress" id="quiz-progress">Frage 1 von 15</div>
          </div>

          <div class="pill" id="quiz-hint">W√§hle die richtige Antwort.</div>

          <div class="question-text" id="quiz-question-text">
            Frage steht hier.
          </div>

          <div class="answers" id="quiz-answers"></div>

          <div class="feedback" id="quiz-feedback"></div>

          <div class="controls">
            <button class="btn" id="btn-stop">Quiz beenden</button>
            <button class="btn primary" id="btn-next" disabled>Weiter</button>
          </div>
        </div>

        <div id="quiz-result" style="display:none;">
          <div class="result-box" id="quiz-result-box"></div>
          <div class="controls" style="margin-top:0.7rem;">
            <button class="btn primary" id="btn-restart-topic">
              Thema neu starten
            </button>
            <button class="btn" id="btn-back-to-topics">
              Zur Themenauswahl
            </button>
          </div>
        </div>
      </section>

    </section>

  </main>
</div>

<script>
  const QUIZ_LENGTH = 15;

  const QUIZ_TOPICS = {
    bewegung_grundlagen: {
      name: "Bewegung ‚Äì Grundlagen",
      icon: "üö∂",
      questions: [
        {
          q: "Wann sagen wir in der Physik, dass sich ein K√∂rper ‚Äûbewegt‚Äú?",
          a: [
            "Wenn er sich f√ºr uns schnell anf√ºhlt.",
            "Wenn sich sein Ort im Vergleich zu einem Bezugspunkt √§ndert.",
            "Wenn er Ger√§usche macht.",
            "Wenn er auf einer Stra√üe steht."
          ],
          c: 1
        },
        {
          q: "Was bedeutet ‚ÄûRuhe‚Äú in der Physik?",
          a: [
            "Der K√∂rper ist immer unsichtbar.",
            "Der K√∂rper steht nur nachts still.",
            "Der Ort des K√∂rpers √§ndert sich nicht gegen√ºber einem Bezugspunkt.",
            "Der K√∂rper ist besonders leicht."
          ],
          c: 2
        },
        {
          q: "Welches ist kein Beispiel f√ºr eine geradlinige Bewegung?",
          a: [
            "Auto auf einer langen, geraden Landstra√üe.",
            "Aufzug f√§hrt vom 1. in den 5. Stock.",
            "Auto f√§hrt im Kreis um einen Platz.",
            "Zug f√§hrt in einem langen Tunnel geradeaus."
          ],
          c: 2
        },
        {
          q: "Welche Aussage √ºber Kreisbewegungen ist richtig?",
          a: [
            "Der K√∂rper bewegt sich auf einer Kreisbahn um einen Mittelpunkt.",
            "Der K√∂rper bewegt sich immer auf einer Geraden.",
            "Kreisbewegungen kommen im Alltag kaum vor.",
            "Kreisbewegung bedeutet, dass der K√∂rper stehen bleibt."
          ],
          c: 0
        },
        {
          q: "Welches Beispiel passt am besten zu einer Schwingung?",
          a: [
            "Ein Pendel, das hin und her schwingt.",
            "Ein Auto auf gerader Stra√üe.",
            "Ein Fahrstuhl, der nach oben f√§hrt.",
            "Ein Zug im Bahnhof."
          ],
          c: 0
        },
        {
          q: "Wof√ºr steht das ‚Äûs‚Äú in der Formel v = s / t?",
          a: [
            "F√ºr die Geschwindigkeit.",
            "F√ºr die Strecke (Weg), die zur√ºckgelegt wird.",
            "F√ºr die Masse des K√∂rpers.",
            "F√ºr die Temperatur."
          ],
          c: 1
        },
        {
          q: "Welche Gr√∂√üe beschreibt die Geschwindigkeit?",
          a: [
            "Wie viel Weg pro Zeit zur√ºckgelegt wird.",
            "Wie stark ein K√∂rper leuchtet.",
            "Wie schwer ein K√∂rper ist.",
            "Wie laut ein K√∂rper ist."
          ],
          c: 0
        },
        {
          q: "Welche Einheit passt typischerweise zur Geschwindigkeit im Alltag?",
          a: [
            "km/h",
            "Kilogramm (kg)",
            "Newton (N)",
            "Grad Celsius (¬∞C)"
          ],
          c: 0
        },
        {
          q: "Ein Auto legt 100 m in 5 s zur√ºck. Worum geht es, wenn du v = s / t berechnest?",
          a: [
            "Um die Durchschnittsgeschwindigkeit des Autos.",
            "Um die Masse des Autos.",
            "Um die Beschleunigung des Autos.",
            "Um die Kraft des Motors."
          ],
          c: 0
        },
        {
          q: "Welches ist ein typischer Bezugspunkt bei Bewegungen auf der Erde?",
          a: [
            "Die Erdoberfl√§che.",
            "Die Sonne.",
            "Ein Flugzeug in 10 km H√∂he.",
            "Eine Wolke."
          ],
          c: 0
        },
        {
          q: "Was zeigt ein s-t-Diagramm?",
          a: [
            "Wie sich der zur√ºckgelegte Weg mit der Zeit ver√§ndert.",
            "Wie sich die Masse mit der Zeit ver√§ndert.",
            "Wie sich die Temperatur mit der Zeit ver√§ndert.",
            "Wie sich die Lautst√§rke mit der Zeit ver√§ndert."
          ],
          c: 0
        },
        {
          q: "Was zeigt ein v-t-Diagramm?",
          a: [
            "Den Weg in Abh√§ngigkeit von der Masse.",
            "Die Geschwindigkeit in Abh√§ngigkeit von der Zeit.",
            "Die Temperatur in Abh√§ngigkeit von der Zeit.",
            "Die Kraft in Abh√§ngigkeit vom Weg."
          ],
          c: 1
        },
        {
          q: "In einem s-t-Diagramm ist eine waagerechte Linie eingezeichnet. Was bedeutet das?",
          a: [
            "Der K√∂rper steht still, der Weg √§ndert sich nicht.",
            "Der K√∂rper beschleunigt immer st√§rker.",
            "Der K√∂rper f√§hrt gleichf√∂rmig.",
            "Der K√∂rper wechselt seine Richtung."
          ],
          c: 0
        },
        {
          q: "Ein Fahrradfahrer bewegt sich mit konstanter Geschwindigkeit. Welche Aussage passt am besten?",
          a: [
            "In gleichen Zeiten legt er gleiche Wege zur√ºck.",
            "Er wird st√§ndig schneller.",
            "Er steht in Wirklichkeit still.",
            "Er f√§hrt nur bergab."
          ],
          c: 0
        },
        {
          q: "Welche Aussage √ºber ‚ÄûBewegung ist relativ‚Äú ist richtig?",
          a: [
            "Ob etwas ruht oder sich bewegt, h√§ngt vom gew√§hlten Bezugspunkt ab.",
            "Ein K√∂rper kann sich niemals bewegen.",
            "Bewegung gibt es nur im Weltraum.",
            "Bewegung h√§ngt nur vom Gewicht des K√∂rpers ab."
          ],
          c: 0
        }
      ]
    }
  };

  // Zustand
  let currentTopicId = null;
  let currentQuestions = [];
  let currentIndex = 0;
  let correctCount = 0;
  let answered = false;

  // DOM
  const topicButtons = document.querySelectorAll(".topic-btn");
  const quizIdle = document.getElementById("quiz-idle");
  const quizActive = document.getElementById("quiz-active");
  const quizResult = document.getElementById("quiz-result");

  const topicIconEl = document.getElementById("quiz-topic-icon");
  const topicNameEl = document.getElementById("quiz-topic-name");
  const progressEl = document.getElementById("quiz-progress");
  const hintEl = document.getElementById("quiz-hint");
  const questionTextEl = document.getElementById("quiz-question-text");
  const answersEl = document.getElementById("quiz-answers");
  const feedbackEl = document.getElementById("quiz-feedback");

  const btnNext = document.getElementById("btn-next");
  const btnStop = document.getElementById("btn-stop");
  const btnRestartTopic = document.getElementById("btn-restart-topic");
  const btnBackToTopics = document.getElementById("btn-back-to-topics");
  const resultBoxEl = document.getElementById("quiz-result-box");

  function shuffle(array) {
    const arr = array.slice();
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function startQuiz(topicId) {
    const topic = QUIZ_TOPICS[topicId];
    if (!topic) return;

    currentTopicId = topicId;
    const pool = topic.questions || [];

    let selected = [];
    if (pool.length >= QUIZ_LENGTH) {
      selected = shuffle(pool).slice(0, QUIZ_LENGTH);
    } else {
      const shuffled = shuffle(pool);
      while (selected.length < QUIZ_LENGTH) {
        for (const q of shuffled) {
          selected.push(q);
          if (selected.length === QUIZ_LENGTH) break;
        }
      }
    }

    currentQuestions = selected;
    currentIndex = 0;
    correctCount = 0;
    answered = false;

    topicIconEl.textContent = topic.icon;
    topicNameEl.textContent = topic.name;
    hintEl.textContent = "W√§hle die richtige Antwort.";

    quizIdle.style.display = "none";
    quizResult.style.display = "none";
    quizActive.style.display = "block";

    renderQuestion();
  }

  function renderQuestion() {
    const qObj = currentQuestions[currentIndex];
    if (!qObj) return;

    progressEl.textContent = `Frage ${currentIndex + 1} von ${currentQuestions.length}`;
    questionTextEl.textContent = qObj.q;
    answersEl.innerHTML = "";
    feedbackEl.textContent = "";
    feedbackEl.className = "feedback";
    btnNext.disabled = true;
    answered = false;

    qObj.a.forEach((text, idx) => {
      const btn = document.createElement("button");
      btn.className = "answer-btn";
      btn.textContent = text;
      btn.addEventListener("click", () => handleAnswer(idx));
      answersEl.appendChild(btn);
    });
  }

  function handleAnswer(index) {
    if (answered) return;
    answered = true;

    const qObj = currentQuestions[currentIndex];
    const buttons = answersEl.querySelectorAll(".answer-btn");

    buttons.forEach((btn, idx) => {
      btn.disabled = true;
      if (idx === qObj.c) {
        btn.classList.add("correct");
      }
      if (idx === index && idx !== qObj.c) {
        btn.classList.add("wrong");
      }
    });

    if (index === qObj.c) {
      correctCount++;
      feedbackEl.textContent = "‚úÖ Richtig ‚Äì stark!";
      feedbackEl.classList.add("good");
    } else {
      feedbackEl.textContent = `‚ùå Nicht ganz. Richtige Antwort: "${qObj.a[qObj.c]}".`;
      feedbackEl.classList.add("bad");
    }

    btnNext.disabled = false;
  }

  function showResult() {
    quizActive.style.display = "none";
    quizResult.style.display = "block";

    const total = currentQuestions.length;
    const quote = total > 0 ? correctCount / total : 0;

    let moodClass = "mid";
    let text = "";

    if (quote <= 0.4) {
      moodClass = "bad";
      text = `Du hast ${correctCount} von ${total} Fragen richtig beantwortet. üî¥ 
Noch etwas unsicher ‚Äì schau dir die Theorie noch einmal an und probier das Quiz dann nochmal.`;
    } else if (quote <= 0.7) {
      moodClass = "mid";
      text = `Du hast ${correctCount} von ${total} Fragen richtig beantwortet. üü† 
Schon ganz gut! Mit etwas Wiederholung sitzt das Thema bald richtig.`;
    } else {
      moodClass = "good";
      text = `Du hast ${correctCount} von ${total} Fragen richtig beantwortet. üü¢ 
Sehr stark ‚Äì du hast das Thema schon richtig gut drauf!`;
    }

    resultBoxEl.className = "result-box " + moodClass;
    resultBoxEl.textContent = text;
  }

  function stopQuiz() {
    quizActive.style.display = "none";
    quizResult.style.display = "none";
    quizIdle.style.display = "block";
    currentTopicId = null;
    currentQuestions = [];
    currentIndex = 0;
    correctCount = 0;
  }

  topicButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const topicId = btn.getAttribute("data-topic");
      startQuiz(topicId);
    });
  });

  btnNext.addEventListener("click", () => {
    if (!answered) return;
    currentIndex++;
    if (currentIndex >= currentQuestions.length) {
      showResult();
    } else {
      renderQuestion();
    }
  });

  btnStop.addEventListener("click", () => {
    stopQuiz();
  });

  btnRestartTopic.addEventListener("click", () => {
    if (currentTopicId) {
      startQuiz(currentTopicId);
    }
  });

  btnBackToTopics.addEventListener("click", () => {
    stopQuiz();
  });
</script>

</body>
</html>