<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Physik Digital 7â€“10 â€“ Dashboard</title>

<style>
:root {
  --bg-dark: #020617;
  --bg-grad-top: #0f172a;
  --bg-grad-bottom: #000000;

  --text-main: #e5e7eb;
  --text-soft: #cbd5f5;

  /* Kachel-Farben */
  --k7: linear-gradient(135deg, #22c55e, #16a34a);
  --k8: linear-gradient(135deg, #22d3ee, #3b82f6);
  --k9: linear-gradient(135deg, #a855f7, #6366f1);
  --k10: linear-gradient(135deg, #f97316, #ea580c);
  --formeln: linear-gradient(135deg, #facc15, #f97316);
  --contact: linear-gradient(135deg, #6366f1, #4f46e5);

  --glow-green: rgba(74, 222, 128, 0.35);
}

/* Grundlayout */
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, var(--bg-grad-top), var(--bg-grad-bottom));
  color: var(--text-main);
  max-width: 620px;
  margin-left: auto;
  margin-right: auto;
  padding: 0 1.2rem 3.5rem 1.2rem;
}

.panel {
  padding-top: 1.2rem;
}

/* Ãœberschrift */
.heading-label {
  color: var(--text-soft);
  font-size: 0.85rem;
  letter-spacing: 0.12rem;
  text-transform: uppercase;
  margin-bottom: 0.4rem;
}

.heading h1 {
  font-size: 1.95rem;
  margin: 0;
  line-height: 1.25;
}

.heading p {
  font-size: 0.95rem;
  margin-top: 0.4rem;
  margin-bottom: 0;
  color: var(--text-soft);
}

/* Uhr + Datum */
.timebox {
  margin-top: 0.6rem;
  margin-bottom: 0.4rem;
  text-align: left;
}

#clock {
  font-size: 1.2rem;
  font-weight: 600;
  color: #38bdf8;
  letter-spacing: 0.08em;
}

#date {
  margin-top: 0.15rem;
  font-size: 0.9rem;
  font-weight: 500;
  color: #94a3b8;
  letter-spacing: 0.03em;
}

/* Kacheln */
.tiles {
  margin-top: 1.6rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.tile {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem 0.8rem;
  border-radius: 18px;
  text-decoration: none;
  color: #f9fafb;
  font-weight: 500;
  font-size: 1.1rem;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.78);
  border: 1px solid rgba(15, 23, 42, 0.9);
  transition: transform 0.12s ease, box-shadow 0.12s ease;
  position: relative;
}

.tile:hover {
  transform: scale(1.03);
  box-shadow: 0 20px 55px rgba(0, 0, 0, 0.9);
}

/* Farbakzente */
.k7    { background: var(--k7); }
.k8    { background: var(--k8); }
.k9    { background: var(--k9); }
.k10   { background: var(--k10); }
.form  { background: var(--formeln); }
.ask   { background: var(--contact); }

/* NEU-Badge */
.tile-badge {
  position: absolute;
  top: 0.55rem;
  right: 0.8rem;
  font-size: 0.72rem;
  letter-spacing: 0.12em;
  padding: 0.12rem 0.55rem;
  border-radius: 999px;
  border: 1px solid rgba(248, 250, 252, 0.9);
  background: rgba(15, 23, 42, 0.9);
  color: #e5e7eb;
  box-shadow: 0 0 12px rgba(148, 163, 184, 0.9);
  text-transform: uppercase;
}

/* Update-Hinweis */
.update-bar {
  margin-top: 1.3rem;
  padding: 0.75rem 0.9rem;
  border-radius: 16px;
  border: 1px dashed rgba(148, 163, 184, 0.6);
  background: rgba(15, 23, 42, 0.9);
  font-size: 0.8rem;
}

.update-line {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.6rem;
}

.update-label {
  color: #cbd5f5;
}

.update-btn {
  border-radius: 999px;
  border: 1px solid rgba(56, 189, 248, 0.9);
  background: radial-gradient(circle at top, rgba(56,189,248,0.25), rgba(15,23,42,1));
  color: #e0f2fe;
  font-size: 0.8rem;
  padding: 0.25rem 0.8rem;
  cursor: pointer;
}

.update-info {
  margin-top: 0.35rem;
  color: #9ca3af;
}

/* Variante, wenn neue Version erkannt wurde */
.update-bar-new {
  border-style: solid;
  border-color: rgba(34,197,94,0.9);
  box-shadow: 0 0 14px rgba(34,197,94,0.35);
}

/* Feedback-Box */
.feedback-box {
  margin-top: 2rem;
  padding: 1.4rem;
  border-radius: 22px;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: rgba(15, 23, 42, 0.75);
  box-shadow: 0 14px 32px rgba(0, 0, 0, 0.7);
}

.feedback-box h2 {
  margin: 0 0 0.6rem 0;
  font-size: 1.2rem;
}

.feedback-box p {
  margin: 0;
  font-size: 0.92rem;
  color: var(--text-soft);
}

/* Sterne */
.stars {
  display: flex;
  gap: 0.7rem;
  margin-top: 0.7rem;
}

.star {
  font-size: 1.7rem;
  cursor: pointer;
  opacity: 0.45;
  transition: transform 0.12s ease, opacity 0.12s ease, color 0.12s ease;
}

.star.active {
  opacity: 1;
  color: #facc15;
  transform: scale(1.15);
}

/* Feedback-Textfeld */
textarea {
  width: 100%;
  margin-top: 0.9rem;
  padding: 0.75rem;
  border-radius: 14px;
  border: 1px solid rgba(148, 163, 184, 0.6);
  background: rgba(15, 23, 42, 0.95);
  color: var(--text-main);
  font-size: 0.95rem;
  resize: none;
}

/* Sende-Button */
.send-btn {
  margin-top: 1.1rem;
  width: 100%;
  padding: 0.9rem;
  border-radius: 14px;
  font-size: 1.1rem;
  font-weight: 600;
  color: #064e3b;
  background: linear-gradient(135deg, #4ade80, #22c55e);
  border: 1px solid #86efac;
  box-shadow: 0 0 22px var(--glow-green);
  text-decoration: none;
  display: inline-block;
  text-align: center;
}

/* Footer */
.footer {
  margin-top: 1.8rem;
  text-align: center;
  font-size: 0.8rem;
  color: var(--text-soft);
}

@media (max-width: 480px) {
  .update-line {
    flex-direction: column;
    align-items: flex-start;
  }
}
</style>
</head>

<body>
<div class="panel">

  <section class="heading">
    <div class="heading-label">FGO Perleberg Â· Physik Digital</div>
    <h1>WÃ¤hle deine Klassenstufe</h1>
    <p>Formelsammlung und Inhalte sind fÃ¼r Smartphone &amp; Smartboard optimiert.</p>

    <div class="timebox">
      <div id="clock">--:--:--</div>
      <div id="date">--.--.----</div>
    </div>
  </section>

  <section class="tiles">
    <a href="klasse7.html" class="tile k7">Klasse 7</a>
    <a href="klasse8.html" class="tile k8">Klasse 8</a>

    <a href="klasse9.html" class="tile k9">
      Klasse 9
      <span class="tile-badge">NEU</span>
    </a>

    <a href="klasse10.html" class="tile k10">
      Klasse 10
      <span class="tile-badge">NEU</span>
    </a>

    <a href="formelsammlung.html" class="tile form">Formelsammlung 7â€“10</a>

    <a href="mailto:michael.nagel@lk.brandenburg.de?subject=Fragen%20zu%20Physik%20Digital"
       class="tile ask">Fragen an die Lehrkraft</a>
  </section>

  <!-- Update-Hinweis -->
  <div class="update-bar" id="update-bar">
    <div class="update-line">
      <span class="update-label" id="update-label">
        App-Version 1.1 Â· Stand: 27.11.2025
      </span>
      <button class="update-btn" id="updateBtn">Aktualisieren</button>
    </div>
    <div class="update-info" id="update-info">
      Tipp: Wenn Inhalte fehlen oder nicht stimmen, tippe auf â€žAktualisierenâ€œ, um die Seite neu zu laden.
    </div>
  </div>

  <div class="feedback-box">
    <h2>Wie gefÃ¤llt dir diese App?</h2>
    <p>Tippe auf die Sterne und schicke anonymes Feedback. So kann ich Physik Digital weiter verbessern.</p>

    <div class="stars" id="stars">
      <span class="star">â˜…</span>
      <span class="star">â˜…</span>
      <span class="star">â˜…</span>
      <span class="star">â˜…</span>
      <span class="star">â˜…</span>
    </div>

    <textarea id="feedbackText"
      placeholder="Was hat dir geholfen? Was kann besser werden? (optional)"></textarea>

    <a id="sendBtn" class="send-btn"
       href="mailto:michael.nagel@lk.brandenburg.de?subject=Feedback%20Physik%20Digital&body=Feedback%3A%20">
       ðŸ“§ Feedback per Mail senden
    </a>
  </div>

  <div class="footer">
    Version 1.1 Â· Stand: 27.11.2025<br />
    Â© 2025 â€“ M. Nagel Â· Physik Digital 7â€“10
  </div>

</div>

<script>
const APP_VERSION = "1.1";

/* Uhrzeit aktualisieren */
function updateClock() {
  const now = new Date();
  const h = String(now.getHours()).padStart(2, "0");
  const m = String(now.getMinutes()).padStart(2, "0");
  const s = String(now.getSeconds()).padStart(2, "0");
  document.getElementById("clock").textContent = `${h}:${m}:${s}`;
}

/* Datum aktualisieren */
function updateDate() {
  const now = new Date();
  const options = {
    weekday: "long",
    day: "2-digit",
    month: "2-digit",
    year: "numeric"
  };
  document.getElementById("date").textContent =
    now.toLocaleDateString("de-DE", options);
}

updateClock();
updateDate();
setInterval(updateClock, 1000);

/* Sterne-Feedback */
const stars = document.querySelectorAll(".star");
const sendBtn = document.getElementById("sendBtn");
const feedbackText = document.getElementById("feedbackText");
let rating = 0;

stars.forEach((star, index) => {
  star.addEventListener("click", () => {
    rating = index + 1;
    stars.forEach((s, i) => {
      s.classList.toggle("active", i < rating);
    });
    updateMailLink();
  });
});

feedbackText.addEventListener("input", updateMailLink);

function updateMailLink() {
  const text = encodeURIComponent(feedbackText.value || "");
  const body =
    `Bewertung: ${rating} Sterne.%0A%0AFeedback:%0A${text}`;
  const href =
    `mailto:michael.nagel@lk.brandenburg.de?subject=Feedback%20Physik%20Digital&body=${body}`;
  sendBtn.href = href;
}

/* Nach Klick auf â€žFeedback sendenâ€œ alles zurÃ¼cksetzen */
sendBtn.addEventListener("click", () => {
  setTimeout(() => {
    rating = 0;
    stars.forEach(s => s.classList.remove("active"));
    feedbackText.value = "";
    updateMailLink();
  }, 600);
});

/* Update-Hinweis / Version speichern */
const updateBar = document.getElementById("update-bar");
const updateBtn = document.getElementById("updateBtn");

try {
  const stored = localStorage.getItem("physikDigitalVersion");
  if (stored !== APP_VERSION) {
    localStorage.setItem("physikDigitalVersion", APP_VERSION);
    if (updateBar) {
      updateBar.classList.add("update-bar-new");
      const label = document.getElementById("update-label");
      const info = document.getElementById("update-info");
      if (label) {
        label.textContent = `Neue Inhalte! App-Version ${APP_VERSION} Â· Stand: 27.11.2025`;
      }
      if (info) {
        info.textContent = "Diese App wurde gerade aktualisiert. Tippe auf â€žAktualisierenâ€œ, falls etwas nicht stimmt.";
      }
    }
  }
} catch (e) {
  // Wenn localStorage nicht verfÃ¼gbar ist, einfach still ignorieren
}

/* Aktualisieren-Button lÃ¤dt die Seite neu */
if (updateBtn) {
  updateBtn.addEventListener("click", () => {
    window.location.reload();
  });
}
</script>

</body>
</html>